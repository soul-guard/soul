{"posts":[{"title":"Springæ¡†æ¶ç®€ä»‹","content":"Spring Framework Overview Springæ¡†æ¶ç®€ä»‹ Spring makes it easy to create Java enterprise applications. It provides everything you need to embrace the Java language in an enterprise environment, with support for Groovy and Kotlin as alternative languages on the JVM, and with the flexibility to create many kinds of architectures depending on an application's needs. As of Spring Framework 5.1, Spring requires JDK 8+ (Java SE 8+) and provides out-of-the-box support for JDK 11 LTS. Java SE 8 update 60 is suggested as the minimum patch release for Java 8, but it is generally recommended to use a recent patch release. Springä½¿å¾—Javaä¼ä¸šåº”ç”¨å¼€å‘å˜å¾—ç®€å•ã€‚å®ƒæä¾›äº†åœ¨ä¼ä¸šç¯å¢ƒä¸­ä½¿ç”¨Javaè¯­è¨€æ‰€éœ€è¦çš„ä¸€åˆ‡å¹¶ä¸”å¯ä»¥æ ¹æ®åº”ç”¨çš„éœ€æ±‚çµæ´»çš„æ„å»ºå¤šç§æ¶æ„ï¼ŒåŒæ—¶ä¹Ÿæ”¯æŒGroovyå’ŒKotlinè¿™äº›åŸºäºJVMä½¿ç”¨çš„æ›¿ä»£è¯­è¨€ã€‚ä»Springæ¡†æ¶5.1å¼€å§‹ï¼Œä½¿ç”¨Springéœ€è¦JDK8+ï¼ˆJava SE 8+ï¼‰ç‰ˆæœ¬å¹¶ä¸”ä¹Ÿæä¾›äº†å¯¹JDK11 LTSç‰ˆæœ¬çš„æ”¯æŒã€‚å»ºè®®å°†Java SE8ç¬¬60ä¸ªæ›´æ–°ç‰ˆæœ¬ä½œä¸ºä½¿ç”¨Java8çš„æœ€å°ä¿®è®¢ç‰ˆæœ¬ï¼Œä½†æ˜¯é€šå¸¸æ¨èä½¿ç”¨æœ€æ–°ä¿®è®¢ç‰ˆã€‚ Spring supports a wide range of application scenarios. In a large enterprise, applications often exist for a long time and have to run on a JDK and application server whose upgrade cycle is beyond developer control. Others may run as a single jar with the server embedded, possibly in a cloud environment. Yet others may be standalone applications (such as batch or integration workloads) that do not need a server. Springæ”¯æŒå¹¿æ³›çš„åº”ç”¨åœºæ™¯ã€‚åœ¨å¤§å‹ä¼ä¸šä¸­ï¼Œé€šå¸¸åº”ç”¨ç¨‹åºæ˜¯é•¿æ—¶é—´å­˜åœ¨å¹¶ä¸”è¿è¡Œåœ¨ä¸€ä¸ªæ›´æ–°å‘¨æœŸä¸å—å¼€å‘äººå‘˜æ§åˆ¶çš„JDKå’Œåº”ç”¨æœåŠ¡å™¨ä¸Šã€‚å…¶ä»–çš„å¯èƒ½å°±æ˜¯è¿è¡Œåœ¨å†…åµŒæœåŠ¡å™¨æˆ–è€…äº‘ç¯å¢ƒä¸Šçš„ä¸€ä¸ªç‹¬ç«‹jarã€‚è¿˜æœ‰ä¸€äº›å¯èƒ½å°±æ˜¯ä¸éœ€è¦æœåŠ¡å™¨çš„ç‹¬ç«‹åº”ç”¨ç¨‹åº(æ¯”å¦‚æ‰¹å¤„ç†æˆ–è€…é›†æˆè´Ÿè½½)ã€‚ Spring is open source. It has a large and active community that provides continuous feedback based on a diverse range of real-world use cases. This has helped Spring to successfully evolve over a very long time. Springæ˜¯å¼€æºé¡¹ç›®ï¼Œå®ƒæ‹¥æœ‰ä¸€ä¸ªåºå¤§ä¸”æ´»è·ƒçš„ç¤¾åŒºï¼Œå¹¶ä¸”èƒ½å¤Ÿä»å„ç§å®é™…ä½¿ç”¨æ¡ˆä¾‹ä¸­å¾—åˆ°æŒç»­çš„åé¦ˆã€‚è¿™ä¹Ÿæ˜¯åœ¨Springåœ¨é•¿æœŸå‘å±•ä¸­èµ°å‘æˆåŠŸçš„åŸå› ã€‚ What We Mean by &quot;Spring&quot; æˆ‘ä»¬æ‰€è¯´çš„â€œSpringâ€æ˜¯ä»€ä¹ˆï¼Ÿ The term &quot;Spring&quot; means different things in different contexts. It can be used to refer to the Spring Framework project itself, which is where it all started. Over time, other Spring projects have been built on top of the Spring Framework. Most often, when people say &quot;Spring&quot;, they mean the entire family of projects. This reference documentation focuses on the foundation: the Spring Framework itself. â€œSpringâ€ä¸€è¯åœ¨ä¸åŒçš„ä¸Šä¸‹ä¸­ä»£è¡¨çš„å«ä¹‰ä¸å°½ç›¸åŒã€‚å®ƒå¯ä»¥ä»£è¡¨ç€Spring Frameworké¡¹ç›®æœ¬èº«ï¼Œä¹Ÿå¯ä»¥è¯´æ˜¯å®ƒä¸€åˆ‡çš„å¼€å§‹ã€‚éšç€æ—¶é—´çš„æ¨ç§»ï¼Œä¹Ÿæœ‰å¾ˆå¤šå…¶ä»–çš„Springé¡¹ç›®åœ¨Spring FrameworkåŸºç¡€ä¸Šå¼€å‘å‡ºæ¥ã€‚é€šå¸¸äººä»¬æ‰€è¯´çš„â€œSpringâ€ä»£è¡¨çš„æ˜¯æ•´ä¸ªé¡¹ç›®ç³»åˆ—ã€‚æœ¬å‚è€ƒæ–‡æ¡£é‡ç‚¹å…³æ³¨çš„æ˜¯Springæ¡†æ¶è‡ªèº«ã€‚ The Spring Framework is divided into modules. Applications can choose which modules they need. At the heart are the modules of the core container, including a configuration model and a dependency injection mechanism. Beyond that, the Spring Framework provides foundational support for different application architectures, including messaging, transactional data and persistence, and web. It also includes the Servlet-based Spring MVC web framework and, in parallel, the Spring WebFlux reactive web framework. Springæ¡†æ¶è¢«åˆ†æˆäº†å¤šä¸ªæ¨¡å—ï¼Œåº”ç”¨ç¨‹åºå¯ä»¥åœ¨ä½¿ç”¨æ—¶é€‰æ‹©ä»–ä»¬æ‰€éœ€è¦çš„æ¨¡å—ã€‚æ ¸å¿ƒå®¹å™¨çš„æ ¸å¿ƒæ¨¡å—åŒ…å«é…ç½®æ¨¡å¼ä»¥åŠä¾èµ–æ³¨å…¥æœºåˆ¶ã€‚é™¤æ­¤ä¹‹å¤–ï¼ŒSpringæ¡†æ¶è¿˜æä¾›äº†å¯¹ä¸åŒåº”ç”¨æ¶æ„çš„åŠŸèƒ½æ”¯æŒï¼ŒåŒ…æ‹¬æ¶ˆæ¯ä¼ é€’ã€æ•°æ®äº‹åŠ¡å’ŒæŒä¹…åŒ–ä»¥åŠWEBã€‚å®ƒè¿˜åŒ…å«äº†åŸºäºServletçš„SpringMVC Webæ¡†æ¶ä»¥åŠä¸ä¹‹å¹¶è¡Œå­˜åœ¨Spring WebFluxå“åº”å¼Webæ¡†æ¶ã€‚ A note about modules: Spring's framework jars allow for deployment to JDK 9's module path (&quot;Jigsaw&quot;). For use in Jigsaw-enabled applications, the Spring Framework 5 jars come with &quot;Automatic-Module-Name&quot; manifest entries which define stable language-level module names (&quot;spring.core&quot;, &quot;spring.context&quot; etc) independent from jar artifact names (the jars follow the same naming pattern with &quot;-&quot; instead of &quot;.&quot;, e.g. &quot;spring-core&quot; and &quot;spring-context&quot;). Of course, Spring's framework jars keep working fine on the classpath on both JDK 8 and 9+. å…³äºæ¨¡å—åŒ–æ³¨æ„ç‚¹ï¼šSpringæ¡†æ¶æ”¯æŒéƒ¨ç½²åˆ°JDK9çš„æ¨¡å—åŒ–è·¯å¾„(&quot;Jigsaw&quot;)ã€‚ä¸ºäº†åœ¨å¯ç”¨Jigsawçš„åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨ï¼Œåœ¨Spring5çš„jarä¸­åŠ å…¥äº†â€œAutomatic-Module-Nameâ€æ¸…å•åˆ—è¡¨ç”¨äºå®šä¹‰ç‹¬ç«‹äºjaråŒ…åï¼ˆè¿™äº›jaréµå¾ªç€ç›¸åŒçš„å‘½åæ¨¡å¼ï¼šä½¿ç”¨â€œ-â€ä»£æ›¿â€œ.â€,å¦‚ï¼š&quot;spring-core&quot;å’Œ&quot;spring-context&quot;ï¼‰çš„æ ‡å‡†è¯­è¨€çº§åˆ«çš„æ¨¡å—åŒ–åç§°ï¼ˆæ¯”å¦‚&quot;spring.core&quot;å’Œ&quot;spring.context&quot;ï¼‰ã€‚å½“ç„¶ï¼ŒSpringæ¡†æ¶jaråœ¨JDK8å’ŒJDK9+ç±»è·¯å¾„ä¸Šå¾ˆå¥½çš„è¿è¡Œã€‚ Design Philosophy è®¾è®¡åŸç† When you learn about a framework, itâ€™s important to know not only what it does but what principles it follows. Here are the guiding principles of the Spring Framework: å½“å­¦ä¹ ä¸€ä¸ªæ¡†æ¶æ—¶ï¼Œå¾ˆé‡è¦çš„ä¸€ç‚¹æ˜¯ä¸ä»…è¦äº†è§£å®ƒçš„åŸç†ä¹Ÿè¦éµå¾ªå®ƒçš„è®¾è®¡åŸåˆ™ã€‚ä»¥ä¸‹æ˜¯Springæ¡†æ¶çš„æŒ‡å¯¼åŸåˆ™ã€‚ Provide choice at every level. Spring lets you defer design decisions as late as possible. For example, you can switch persistence providers through configuration without changing your code. The same is true for many other infrastructure concerns and integration with third-party APIs. Accommodate diverse perspectives. Spring embraces flexibility and is not opinionated about how things should be done. It supports a wide range of application needs with different perspectives. Maintain strong backward compatibility. Springâ€™s evolution has been carefully managed to force few breaking changes between versions. Spring supports a carefully chosen range of JDK versions and third-party libraries to facilitate maintenance of applications and libraries that depend on Spring. Care about API design. The Spring team puts a lot of thought and time into making APIs that are intuitive and that hold up across many versions and many years. Set high standards for code quality. The Spring Framework puts a strong emphasis on meaningful, current, and accurate javadoc. It is one of very few projects that can claim clean code structure with no circular dependencies between packages. æä¾›å„ä¸ªçº§åˆ«çš„é€‰æ‹©ã€‚Springä½¿ä½ å°½å¯èƒ½çš„æ¨è¿Ÿä½ çš„è®¾è®¡å†³ç­–ã€‚æ¯”å¦‚ï¼šä½ å¯ä»¥åœ¨ä¸æ”¹å˜ä»£ç çš„æƒ…å†µé€šè¿‡åˆ‡æ¢é…ç½®æä¾›åŠŸèƒ½çš„æŒä¹…åŒ–ã€‚å¯¹äºè®¸å¤šå…¶ä»–çš„åŸºç¡€æ¶æ„é—®é¢˜ä»¥åŠä¸ç¬¬ä¸‰æ–¹APIé›†æˆä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚ å¤šè§’åº¦å…¼å®¹ã€‚Springå…·æœ‰çµæ´»æ€§ä¸”ä¸å»é™åˆ¶ä½ è¯¥æ€ä¹ˆå»åšï¼Œæ”¯æŒå…·æœ‰ä¸åŒè§†è§’çš„å¹¿æ³›åº”ç”¨éœ€æ±‚ã€‚ å¼ºå¤§çš„å‘åå…¼å®¹æ€§ã€‚Springçš„æ¼”å˜æ˜¯è¢«ç²¾å¿ƒç®¡ç†çš„ï¼Œæ‰€æœ‰ç‰ˆæœ¬ä¹‹é—´æ²¡æœ‰é‡å¤§çš„å˜åŒ–ã€‚Springæ”¯æŒç²¾å¿ƒé€‰æ‹©çš„JDKç‰ˆæœ¬ä»¥åŠç¬¬ä¸‰æ–¹åº“ï¼Œä»¥æ–¹ä¾¿ç»´æŠ¤ä¾èµ–äºSpringçš„åº”ç”¨å’Œç¬¬ä¸‰æ–¹åº“ã€‚ é‡è§†APIè®¾è®¡ã€‚Springå›¢é˜Ÿåœ¨è®¾è®¡APIä¸ŠæŠ•å…¥äº†å¤§é‡çš„æ€è€ƒå’Œæ—¶é—´ï¼Œä½¿å…¶èƒ½å¤Ÿå®¹æ˜“ç†è§£ä»¥åŠèƒ½å¤Ÿåœ¨å¤šç‰ˆæœ¬ä¸­é•¿ä¹…çš„æ”¯æŒã€‚ é«˜æ ‡å‡†çš„ä»£ç è´¨é‡ã€‚Springæ¡†æ¶å¼ºè°ƒjavadocè¦æœ‰æ„ä¹‰ã€ä¿æŒæœ€æ–°ä»¥åŠå«ä¹‰å‡†ç¡®ã€‚Springæ¡†æ¶å¯ä»¥è‡ªè±ªçš„è¯´ï¼Œå®ƒæ˜¯æå°‘å…·æœ‰ä»£ç ç»“æ„ç®€æ´å¹¶ä¸”åŒ…ä¹‹é—´æ²¡æœ‰å¾ªç¯ä¾èµ–çš„é¡¹ç›®ä¹‹ä¸€ã€‚ Feedback and Contributions åé¦ˆä¸è´¡çŒ® For how-to questions or diagnosing or debugging issues, we suggest using StackOverflow, and we have a https://spring.io/questions[questions page] that lists the suggested tags to use. If you're fairly certain that there is a problem in the Spring Framework or would like to suggest a feature, please use the https://github.com/spring-projects/spring-framework/issues[GitHub Issues]. å¯¹äºå¦‚ä½•æé—®ã€è¯Šæ–­ä»¥åŠè°ƒè¯•ä¹‹ç±»çš„é—®é¢˜ï¼Œæˆ‘ä»¬å»ºè®®ä½¿ç”¨StackOverflowï¼Œä»¥åŠæˆ‘ä»¬çš„ https://spring.io/questions[é—®é¢˜é¡µé¢] åˆ—å‡ºäº†ä¸€äº›ä½¿ç”¨å»ºè®®æ ‡ç­¾ã€‚å¦‚æœä½ éå¸¸ç¡®å®šSpringæ¡†æ¶å­˜åœ¨é—®é¢˜æˆ–è€…ä½ æƒ³æå‡ºä¸€äº›æ–°åŠŸèƒ½ï¼Œè¯·åˆ° https://github.com/spring-projects/spring-framework/issues[GitHub Issues]åé¦ˆã€‚ If you have a solution in mind or a suggested fix, you can submit a pull request on https://github.com/spring-projects/spring-framework[Github]. However, please keep in mind that, for all but the most trivial issues, we expect a ticket to be filed in the issue tracker, where discussions take place and leave a record for future reference. å¦‚æœæ‚¨æœ‰è§£å†³æ–¹æ¡ˆæˆ–è€…å»ºè®®çš„è§£å†³æ–¹æ¡ˆï¼Œä½ å¯ä»¥åˆ° https://github.com/spring-projects/spring-framework[Github]æäº¤ä½ çš„éœ€æ±‚ã€‚ä½†æ˜¯è¯·è®°ä½ï¼Œé™¤äº†ä¸€äº›çç¢çš„é—®é¢˜ï¼Œæˆ‘ä»¬å¸Œæœ›å°†é—®é¢˜çš„è®¨è®ºè®°å½•åœ¨é—®é¢˜è¿½è¸ªä¸­ï¼Œä»¥å¤‡å°†æ¥ä½œå‚è€ƒã€‚ For more details see the guidelines at the https://github.com/spring-projects/spring-framework/blob/master/CONTRIBUTING.md[CONTRIBUTING], top-level project page. æœ‰å…³æ›´å¤šçš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚è€ƒé¡¶çº§é¡¹ç›®é¡µé¢çš„æŒ‡å— https://github.com/spring-projects/spring-framework/blob/master/CONTRIBUTING.md[CONTRIBUTING]ã€‚ Getting Started å…¥é—¨ If you are just getting started with Spring, you may want to begin using the Spring Framework by creating a https://projects.spring.io/spring-boot/[Spring Boot]-based application. Spring Boot provides a quick (and opinionated) way to create a production-ready Spring-based application. It is based on the Spring Framework, favors convention over configuration, and is designed to get you up and running as quickly as possible. å¦‚æœä½ åˆšåˆšå¼€å§‹ä½¿ç”¨Springï¼Œä½ å¯èƒ½éœ€è¦ä½¿ç”¨åŸºäº https://projects.spring.io/spring-boot/[Spring Boot]æ¥åˆ›å»ºä¸€ä¸ªSpringé¡¹ç›®ã€‚Spring Bootæä¾›äº†ä¸€ä¸ªå¿«é€Ÿï¼ˆä¸”ä¾¿æ·ï¼‰çš„æ–¹å¼æ¥æ„å»ºä¸€ä¸ªåŸºäºSpringçš„ç”Ÿäº§åº”ç”¨ã€‚å®ƒåŸºäºSpringæ¡†æ¶å¹¶ä¸”æ—¨åœ¨è®©ä½ èƒ½å¤Ÿå¿«é€Ÿä¸Šæ‰‹è¿è¡Œä¸€ä¸ªé¡¹ç›®ï¼Œæ›´å€¾å‘äºçº¦å®šä¼˜äºé…ç½®ã€‚ You can use https://start.spring.io/[start.spring.io] to generate a basic project or follow one of the https://spring.io/guides[&quot;Getting Started&quot; guides], such as https://spring.io/guides/gs/rest-service/[Getting Started Building a RESTful Web Service]. As well as being easier to digest, these guides are very task focused, and most of them are based on Spring Boot. They also cover other projects from the Spring portfolio that you might want to consider when solving a particular problem. ä½ å¯ä»¥ä½¿ç”¨ https://start.spring.io/[start.spring.io] ç”Ÿæˆä¸€ä¸ªåŸºç¡€é¡¹ç›®å·¥ç¨‹æˆ–è€…æ ¹æ®ä»¥ä¸‹æŒ‡å— https://spring.io/guides[&quot;Getting Started&quot; guides]æ“ä½œï¼Œæ¯”å¦‚ï¼š https://spring.io/guides/gs/rest-service/[Getting Started Building a RESTful Web Service]ã€‚è¿™äº›æŒ‡å—å¤§å¤šæ•°æ˜¯åŸºäºSpring Bootå¼€å‘çš„ï¼Œéå¸¸æ³¨é‡æ“ä½œå¹¶ä¸”æ˜“äºä¸Šæ‰‹ã€‚ä»–ä»¬è¿˜åŒ…å«äº†Springå·¥ç¨‹ç³»åˆ—ä¸­çš„å…¶ä»–é¡¹ç›®ï¼Œä½ åœ¨è§£å†³é—®é¢˜å¯èƒ½éœ€è¦è€ƒè™‘åˆ°ä»–ä»¬ã€‚ ","link":"https://nicholas2015.github.io/post/spring-kuang-jia-jian-jie/"},{"title":"Hello Gridea","content":"ğŸ‘ æ¬¢è¿ä½¿ç”¨ Gridea ï¼ âœï¸ Gridea ä¸€ä¸ªé™æ€åšå®¢å†™ä½œå®¢æˆ·ç«¯ã€‚ä½ å¯ä»¥ç”¨å®ƒæ¥è®°å½•ä½ çš„ç”Ÿæ´»ã€å¿ƒæƒ…ã€çŸ¥è¯†ã€ç¬”è®°ã€åˆ›æ„... ... Github Gridea ä¸»é¡µ ç¤ºä¾‹ç½‘ç«™ ç‰¹æ€§ğŸ‘‡ ğŸ“ ä½ å¯ä»¥ä½¿ç”¨æœ€é…·çš„ Markdown è¯­æ³•ï¼Œè¿›è¡Œå¿«é€Ÿåˆ›ä½œ ğŸŒ‰ ä½ å¯ä»¥ç»™æ–‡ç« é…ä¸Šç²¾ç¾çš„å°é¢å›¾å’Œåœ¨æ–‡ç« ä»»æ„ä½ç½®æ’å…¥å›¾ç‰‡ ğŸ·ï¸ ä½ å¯ä»¥å¯¹æ–‡ç« è¿›è¡Œæ ‡ç­¾åˆ†ç»„ ğŸ“‹ ä½ å¯ä»¥è‡ªå®šä¹‰èœå•ï¼Œç”šè‡³å¯ä»¥åˆ›å»ºå¤–éƒ¨é“¾æ¥èœå• ğŸ’» ä½ å¯ä»¥åœ¨ Windowsï¼ŒMacOS æˆ– Linux è®¾å¤‡ä¸Šä½¿ç”¨æ­¤å®¢æˆ·ç«¯ ğŸŒ ä½ å¯ä»¥ä½¿ç”¨ ğ–¦ğ—‚ğ—ğ—ğ—ğ–» ğ–¯ğ–ºğ—€ğ–¾ğ—Œ æˆ– Coding Pages å‘ä¸–ç•Œå±•ç¤ºï¼Œæœªæ¥å°†æ”¯æŒæ›´å¤šå¹³å° ğŸ’¬ ä½ å¯ä»¥è¿›è¡Œç®€å•çš„é…ç½®ï¼Œæ¥å…¥ Gitalk æˆ– DisqusJS è¯„è®ºç³»ç»Ÿ ğŸ‡¬ğŸ‡§ ä½ å¯ä»¥ä½¿ç”¨ä¸­æ–‡ç®€ä½“æˆ–è‹±è¯­ ğŸŒ ä½ å¯ä»¥ä»»æ„ä½¿ç”¨åº”ç”¨å†…é»˜è®¤ä¸»é¢˜æˆ–ä»»æ„ç¬¬ä¸‰æ–¹ä¸»é¢˜ï¼Œå¼ºå¤§çš„ä¸»é¢˜è‡ªå®šä¹‰èƒ½åŠ› ğŸ–¥ ä½ å¯ä»¥è‡ªå®šä¹‰æºæ–‡ä»¶å¤¹ï¼Œåˆ©ç”¨ OneDriveã€ç™¾åº¦ç½‘ç›˜ã€iCloudã€Dropbox ç­‰è¿›è¡Œå¤šè®¾å¤‡åŒæ­¥ ğŸŒ± å½“ç„¶ Gridea è¿˜å¾ˆå¹´è½»ï¼Œæœ‰å¾ˆå¤šä¸è¶³ï¼Œä½†è¯·ç›¸ä¿¡ï¼Œå®ƒä¼šä¸åœå‘å‰ ğŸƒ æœªæ¥ï¼Œå®ƒä¸€å®šä¼šæˆä¸ºä½ ç¦»ä¸å¼€çš„ä¼™ä¼´ å°½æƒ…å‘æŒ¥ä½ çš„æ‰åå§ï¼ ğŸ˜˜ Enjoy~ ","link":"https://nicholas2015.github.io/post/hello-gridea/"},{"title":"kubernetesç¯å¢ƒæ­å»º","content":" 1. ç¯å¢ƒæ­å»ºå‰æœŸå‡†å¤‡ ç»„ä»¶ç‰ˆæœ¬ Kubernetes 1.11.2 Docker 18.06.0-ce Etcd v3.3.9 Flanneld v0.10.0 TLS è®¤è¯é€šä¿¡ï¼ˆæ‰€æœ‰ç»„ä»¶ï¼Œå¦‚etcdã€kubernetes master å’Œnodeï¼‰ RBAC æˆæƒ kubelet TLS Bootstrapping kubedns v1.14.10ã€dashboard v1.10.0ã€heapster v1.5.4ç­‰æ’ä»¶ etcd é›†ç¾¤ &amp;&amp; k8s master æœºå™¨ &amp;&amp; k8s node æœºå™¨ master01ï¼šip1 node01: ip2 node02: ip3 node03: ip4 é›†ç¾¤ç¯å¢ƒå˜é‡ åç»­éƒ¨ç½²å°†ä¼šä½¿ç”¨åˆ°çš„å…¨å±€å˜é‡ï¼Œå®šä¹‰å¦‚ä¸‹ï¼ˆæ ¹æ®è‡ªå·±çš„æœºå™¨ã€ç½‘ç»œä¿®æ”¹ï¼‰ï¼š # TLS Bootstrapping ä½¿ç”¨çš„Tokenï¼Œå¯ä»¥ä½¿ç”¨å‘½ä»¤ head -c 16 /dev/urandom | od -An -t x | tr -d ' ' ç”Ÿæˆ $ export BOOTSTRAP_TOKEN=&quot;8981b594122ebed7596f1d3b69c78223&quot; # å»ºè®®ä½¿ç”¨æœªç”¨çš„ç½‘æ®µæ¥å®šä¹‰æœåŠ¡ç½‘æ®µå’ŒPod ç½‘æ®µ # æœåŠ¡ç½‘æ®µ(Service CIDR)ï¼Œéƒ¨ç½²å‰è·¯ç”±ä¸å¯è¾¾ï¼Œéƒ¨ç½²åé›†ç¾¤å†…éƒ¨ä½¿ç”¨IP:Portå¯è¾¾ $ export SERVICE_CIDR=&quot;10.254.0.0/16&quot; # Pod ç½‘æ®µ(Cluster CIDR)ï¼Œéƒ¨ç½²å‰è·¯ç”±ä¸å¯è¾¾ï¼Œéƒ¨ç½²åè·¯ç”±å¯è¾¾(flanneld ä¿è¯) $ export CLUSTER_CIDR=&quot;172.30.0.0/16&quot; # æœåŠ¡ç«¯å£èŒƒå›´(NodePort Range) $ export NODE_PORT_RANGE=&quot;30000-32766&quot; # etcdé›†ç¾¤æœåŠ¡åœ°å€åˆ—è¡¨ $ export ETCD_ENDPOINTS=&quot;https://ip1:2379,https://ip2:2379,https://ip3:2379&quot; # flanneld ç½‘ç»œé…ç½®å‰ç¼€ $ export FLANNEL_ETCD_PREFIX=&quot;/kubernetes/network&quot; # kubernetes æœåŠ¡IP(é¢„å…ˆåˆ†é…ï¼Œä¸€èˆ¬ä¸ºSERVICE_CIDRä¸­çš„ç¬¬ä¸€ä¸ªIP) $ export CLUSTER_KUBERNETES_SVC_IP=&quot;10.254.0.1&quot; # é›†ç¾¤ DNS æœåŠ¡IP(ä»SERVICE_CIDR ä¸­é¢„å…ˆåˆ†é…) $ export CLUSTER_DNS_SVC_IP=&quot;10.254.0.2&quot; # é›†ç¾¤ DNS åŸŸå $ export CLUSTER_DNS_DOMAIN=&quot;cluster.local.&quot; # MASTER API Server åœ°å€ $ export MASTER_URL=&quot;k8s-api.virtual.local&quot; 2. åˆ›å»ºCA è¯ä¹¦å’Œå¯†é’¥ kubernetes ç³»ç»Ÿå„ä¸ªç»„ä»¶éœ€è¦ä½¿ç”¨TLSè¯ä¹¦å¯¹é€šä¿¡è¿›è¡ŒåŠ å¯†ï¼Œè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨CloudFlareçš„PKI å·¥å…·é›†cfssl æ¥ç”ŸæˆCertificate Authority(CA) è¯ä¹¦å’Œå¯†é’¥æ–‡ä»¶ï¼Œ CA æ˜¯è‡ªç­¾åçš„è¯ä¹¦ï¼Œç”¨æ¥ç­¾ååç»­åˆ›å»ºçš„å…¶ä»–TLS è¯ä¹¦ã€‚ å®‰è£… CFSSL $ wget https://pkg.cfssl.org/R1.2/cfssl_linux-amd64 $ chmod +x cfssl_linux-amd64 $ sudo mv cfssl_linux-amd64 /usr/k8s/bin/cfssl $ wget https://pkg.cfssl.org/R1.2/cfssljson_linux-amd64 $ chmod +x cfssljson_linux-amd64 $ sudo mv cfssljson_linux-amd64 /usr/k8s/bin/cfssljson $ wget https://pkg.cfssl.org/R1.2/cfssl-certinfo_linux-amd64 $ chmod +x cfssl-certinfo_linux-amd64 $ sudo mv cfssl-certinfo_linux-amd64 /usr/k8s/bin/cfssl-certinfo $ export PATH=/usr/k8s/bin:$PATH $ mkdir ssl &amp;&amp; cd ssl $ cfssl print-defaults config &gt; config.json $ cfssl print-defaults csr &gt; csr.json å€Ÿé‰´äºhttps://blog.qikqiak.com/post/manual-install-high-available-kubernetes-cluster ","link":"https://nicholas2015.github.io/post/kubernetes-huan-jing-da-jian/"},{"title":"gitæœ¬åœ°é¡¹ç›®ä¸Šä¼ ","content":"1ã€ï¼ˆå…ˆè¿›å…¥é¡¹ç›®æ–‡ä»¶å¤¹ï¼‰é€šè¿‡å‘½ä»¤ git init æŠŠè¿™ä¸ªç›®å½•å˜æˆgitå¯ä»¥ç®¡ç†çš„ä»“åº“ git init 2ã€æŠŠæ–‡ä»¶æ·»åŠ åˆ°ç‰ˆæœ¬åº“ä¸­ï¼Œä½¿ç”¨å‘½ä»¤ git add .æ·»åŠ åˆ°æš‚å­˜åŒºé‡Œé¢å»ï¼Œä¸è¦å¿˜è®°åé¢çš„å°æ•°ç‚¹â€œ.â€ï¼Œæ„ä¸ºæ·»åŠ æ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ git add . 3ã€ç”¨å‘½ä»¤ git commitå‘Šè¯‰Gitï¼ŒæŠŠæ–‡ä»¶æäº¤åˆ°ä»“åº“ã€‚å¼•å·å†…ä¸ºæäº¤è¯´æ˜ git commit -m 'first commit' 4ã€å…³è”åˆ°è¿œç¨‹åº“ git remote add origin ä½ çš„è¿œç¨‹åº“åœ°å€ å¦‚ï¼š git remote add origin https://github.com/xxx/xxx-demo.git 5ã€è·å–è¿œç¨‹åº“ä¸æœ¬åœ°åŒæ­¥åˆå¹¶ï¼ˆå¦‚æœè¿œç¨‹åº“ä¸ä¸ºç©ºå¿…é¡»åšè¿™ä¸€æ­¥ï¼Œå¦åˆ™åé¢çš„æäº¤ä¼šå¤±è´¥ï¼‰ git pull --rebase origin master 6ã€æŠŠæœ¬åœ°åº“çš„å†…å®¹æ¨é€åˆ°è¿œç¨‹ï¼Œä½¿ç”¨ git pushå‘½ä»¤ï¼Œå®é™…ä¸Šæ˜¯æŠŠå½“å‰åˆ†æ”¯masteræ¨é€åˆ°è¿œç¨‹ã€‚æ‰§è¡Œæ­¤å‘½ä»¤åä¼šè¦æ±‚è¾“å…¥ç”¨æˆ·åã€å¯†ç ï¼ŒéªŒè¯é€šè¿‡åå³å¼€å§‹ä¸Šä¼ ã€‚ git push -u origin master 7ã€çŠ¶æ€æŸ¥è¯¢å‘½ä»¤ git status å¤‡ï¼šè¯¦ç»†è¯·å‚è€ƒ http://www.cnblogs.com/tugenhua0707/p/4050072.html ","link":"https://nicholas2015.github.io/post/git-ben-di-xiang-mu-shang-chuan/"},{"title":"mysqlå…å®‰è£…ç‰ˆé…ç½®ä¸å®‰è£…","content":" è§£å‹å‹ç¼©åŒ…ï¼Œå¹¶æ–°å»ºmy.iniæ–‡ä»¶ä»¥ä»£æ›¿my-default.iniæ–‡ä»¶ MYSQLä¸‹è½½mysql5.7ï¼Œè§£å‹å‹ç¼©åŒ…ï¼Œå¹¶åœ¨è§£å‹åçš„æ ¹ç›®å½•æ–°å»ºmy.iniæ–‡ä»¶ä»¥ä»£æ›¿my-default.iniæ–‡ä»¶ my.iniæ–‡ä»¶å†…å®¹å¦‚ä¸‹: [mysql] #è®¾ç½®mysqlå®¢æˆ·ç«¯é»˜è®¤å­—ç¬¦é›† default-character-set=utf8 [mysqld] #è®¾ç½®3306ç«¯å£ port = 3306 #è®¾ç½®mysqlçš„å®‰è£…ç›®å½• basedir=D:\\\\Program Files\\\\Mysql #è®¾ç½®mysqlæ•°æ®åº“çš„æ•°æ®çš„å­˜æ”¾ç›®å½• datadir=D:\\\\Program Files\\\\Mysql\\\\data #å…è®¸æœ€å¤§è¿æ¥æ•° max_connections=200 #æœåŠ¡ç«¯ä½¿ç”¨çš„å­—ç¬¦é›†é»˜è®¤ä¸º8æ¯”ç‰¹ç¼–ç çš„latin1å­—ç¬¦é›† character-set-server=utf8 #åˆ›å»ºæ–°è¡¨æ—¶å°†ä½¿ç”¨çš„é»˜è®¤å­˜å‚¨å¼•æ“ default-storage-engine=INNODB ä½¿ç”¨ç®¡ç†å‘˜èº«ä»½æ‰“å¼€cmdå‘½ä»¤çª—å£ï¼Œè¿›å…¥åˆ°å®‰è£…ç›®å½•binç›®å½•ï¼Œæ‰§è¡Œå‘½ä»¤ï¼š # æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œå¹¶å›è½¦ï¼Œæ­¤æ—¶mysqlå®‰è£…ç›®å½•ä¸‹å·²ç»è‡ªåŠ¨åˆ›å»ºäº†dataæ–‡ä»¶å¤¹ã€‚ mysqld --initialize-insecure --user=mysql binç›®å½•ä¸‹ç»§ç»­è¾“å…¥ï¼š # å®‰è£…mysqlæœåŠ¡ï¼Œæ­¤å¤„æ³¨æ„ï¼šæ˜¯mysqldä¸æ˜¯mysql mysqld install æœåŠ¡å¯åŠ¨å ï¼Œä»¥rootç”¨æˆ·è¿æ¥mysqlï¼Œåˆå§‹å¯†ç ä¸ºç©ºï¼Œç›´æ¥enterè¿›å…¥ # ä¿®æ”¹rootç”¨æˆ·å¯†ç  æ‰§è¡Œï¼š alter user 'root'@'localhost' identified by 'æ–°å¯†ç ' ","link":"https://nicholas2015.github.io/post/mysql-mian-an-zhuang-ban-pei-zhi-yu-an-zhuang/"}]}